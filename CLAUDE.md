# CLAUDE.md - CFA Project Instructions

This project uses **Context-First Architecture (CFA)** for AI-assisted development.

## Session Start Protocol

At the START of every session, you MUST:
1. Call `workflow.onboard(project_path=".")` to load project context
2. Call `kg.retrieve(task="<your task>")` to get task-relevant code
3. Call `memory.search(query="<task keywords>")` to check past learnings

**DO NOT start coding without context.** CFA provides intelligent retrieval.

## During Development

### Before Writing Code
- `kg.retrieve(task="...")` - Get relevant code context for your task
- `pattern.detect()` - Check project conventions before adding new code
- `rule.list()` - Check if there are business rules that must be preserved

### After Modifying Functions
**CRITICAL:** After changing ANY function signature (parameters added/removed/reordered):
```
contract.check_breaking(symbol="function_name")
```
DO NOT mark task complete until `breaking_changes=[]`. Skipping causes runtime errors.

### Before Risky Changes
Before deleting files, major refactoring, or modifying core logic:
1. `impact.analyze(file_path="...")` - Check blast radius
2. If risk is high/critical: `safe_point.create(task_summary="...")` - Create checkpoint

### When Learning Something Important
When discovering project patterns, gotchas, or decisions:
```
memory.set(key="descriptive-key", value="what you learned", tags=["pattern", "gotcha"])
```
Future sessions will retrieve this knowledge.

## Recovery

### If Something Breaks
1. `safe_point.list()` - See available restore points
2. `safe_point.rollback(mode="preview")` - Preview what would be reverted
3. `safe_point.rollback(mode="execute")` - Actually rollback

### If Context Feels Incomplete
1. `kg.omitted()` - See what was NOT loaded and why
2. `kg.expand(chunk_id="...")` - Get more context for specific chunks

## Project: one-term

This CLAUDE.md was auto-generated by CFA workflow.onboard.
Customize below with project-specific instructions.

---

## Project-Specific Notes

<!-- Add project-specific conventions, gotchas, or instructions here -->

